# ═══════════════════════════════════════════════════════════════
# PLOSTON INTERNAL VALIDATION CONFIG
# ═══════════════════════════════════════════════════════════════
# This config connects Ploston to the native_tools MCP server from
# the agent submodule for internal validation and testing.
#
# NOTE: Uses ${PLOSTON_ROOT} for paths. Set this env var or replace
# with absolute path to ploston package directory.
# For meta-repo testing, set PLOSTON_ROOT to the meta-repo root.

# ─────────────────────────────────────────────────────────────────
# TOOLS (what Ploston can call)
# ─────────────────────────────────────────────────────────────────
tools:
  mcp_servers:
    native_tools:
      command: "python ${PLOSTON_ROOT:-.}/internal/run-native-tools.py"
      env:
        FIRECRAWL_BASE_URL: "${FIRECRAWL_BASE_URL:-http://localhost:3002}"
        FIRECRAWL_API_KEY: "${FIRECRAWL_API_KEY:-}"
        KAFKA_BOOTSTRAP_SERVERS: "${KAFKA_BOOTSTRAP_SERVERS:-localhost:29092}"
        OLLAMA_HOST: "${OLLAMA_HOST:-http://localhost:11434}"
        WORKSPACE_DIR: "${WORKSPACE_DIR:-.}"

# ─────────────────────────────────────────────────────────────────
# WORKFLOWS
# ─────────────────────────────────────────────────────────────────
workflows:
  # Use PLOSTON_ROOT if set, otherwise use relative path from config file location
  # When running from packages/ploston, this resolves to internal/workflows
  directory: "${PLOSTON_ROOT:-.}/internal/workflows"
  watch: true

# ─────────────────────────────────────────────────────────────────
# PYTHON EXEC (sandbox configuration)
# ─────────────────────────────────────────────────────────────────
python_exec:
  timeout: 30
  max_tool_calls: 10
  default_imports:
    - json
    - re
    - datetime
    - math
    - random
    - typing
    - collections
    - itertools
    - functools
    - statistics
    - uuid
    - copy
    - decimal
    - operator

# ─────────────────────────────────────────────────────────────────
# LOGGING
# ─────────────────────────────────────────────────────────────────
logging:
  level: DEBUG
  format: colored

